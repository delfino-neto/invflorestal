<div class="collection-area-list-container">
  <!-- Header Elegante com Breadcrumb -->
  <div class="page-header">
    <!-- Breadcrumb -->
    <div class="breadcrumb">
      <span class="breadcrumb-item">Cadastros</span>
      <i class="pi pi-angle-right breadcrumb-separator"></i>
      <span class="breadcrumb-item breadcrumb-current">Áreas de Coleta</span>
    </div>

    <!-- Título e Ações -->
    <div class="header-main">
      <div class="header-title-section">
        <h1 class="page-title">Áreas de Coleta</h1>
      </div>
      <div class="header-actions">
        <button
          pButton
          label="Nova Área"
          icon="pi pi-plus"
          severity="primary"
          (click)="navigateToNew()"
        ></button>
      </div>
    </div>
  </div>

  <!-- Search Bar -->
  <div class="mb-6">
    <p-iconfield iconPosition="left" class="w-full md:w-96">
      <p-inputicon styleClass="pi pi-search" />
      <input
        type="text"
        pInputText
        [(ngModel)]="searchTerm"
        (keyup.enter)="onSearch()"
        placeholder="Buscar áreas de coleta..."
        class="w-full"
      />
    </p-iconfield>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    <div *ngFor="let item of [1,2,3,4,5,6,7,8]" class="skeleton-card">
      <p-skeleton height="300px" borderRadius="12px"></p-skeleton>
    </div>
  </div>

  <!-- Empty State -->
  <div
    *ngIf="!loading && areas.length === 0"
    class="empty-state flex flex-col items-center justify-center py-20"
  >
    <i class="pi pi-map text-8xl text-surface-300 dark:text-surface-700 mb-6"></i>
    <h3 class="text-2xl font-semibold text-surface-700 dark:text-surface-300 mb-2">
      Nenhuma área de coleta encontrada
    </h3>
    <p class="text-surface-500 dark:text-surface-400 mb-6">
      Comece criando sua primeira área de inventário florestal
    </p>
    <button
      pButton
      icon="pi pi-plus"
      label="Criar Primeira Área"
      class="p-button-lg"
      (click)="navigateToNew()"
    ></button>
  </div>

  <!-- Cards Grid -->
  <div
    *ngIf="!loading && areas.length > 0"
    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"
  >
    <app-collection-area-card
      *ngFor="let area of areas"
      [area]="area"
      (view)="navigateToView($event)"
      (edit)="navigateToEdit($event)"
      (delete)="onDelete($event)"
    ></app-collection-area-card>
  </div>

  <!-- Pagination -->
  <div *ngIf="!loading && areas.length > 0" class="mt-8">
    <p-paginator
      [rows]="pageSize"
      [totalRecords]="totalRecords"
      [rowsPerPageOptions]="[8, 12, 24, 48]"
      (onPageChange)="onPageChange($event)"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} áreas"
    ></p-paginator>
  </div>
</div>
